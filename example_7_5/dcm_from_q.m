function Q_Xx = dcm_from_q(q)
    q1 = q(1);
    q2 = q(2);
    q3 = q(3);
    q4 = q(4);

    Q11 = q1^2 - q2^2 - q3^2 + q4^2;
    Q12 = 2*(q1*q2 + q3*q4);
    Q13 = 2*(q1*q3 - q2*q4);

    Q21 = 2*(q2*q1-q3*q4);
    Q22 = -q1^2 + q2^2 - q3^2 + q4^2;
    Q23 = 2*(q2*q3 + q1*q4);

    Q31 = 2*(q3*q1 + q2*q4);
    Q32 = 2*(q3*q2 - q1*q4);
    Q33 =  -q1^2 - q2^2 + q3^2 + q4^2;

    Q_Xx = [Q11,Q12,Q13; Q21,Q22,Q23; Q31,Q32,Q33];
end

